<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Vector ball</title>
<style>
body { margin:0; padding:0; }
canvas { width:500px;height:500px; background-color:#000;}
</style>
</head>
<body>
<canvas id="stage" width="500" height="500"></canvas>
<script src="js/common.js"></script>
<script>
var canvas = document.getElementById('stage');
var ctx = this.ctx = canvas.getContext('2d');
var width = canvas.width;
	height = canvas.height;
var velocity = new vec2(2.5, 5);
function Ball(pos, radius, color) {
	this.pos = pos;
	this.radius = radius;
	this.color = color;
	ctx.fillStyle = color;
}
Ball.prototype.update = function(velocity) {
	this.pos.add(velocity);
	if ((this.pos.x+this.radius > width) || (this.pos.y < this.radius)) velocity.x = velocity.x * -1;
	if ((this.pos.y+this.radius > height) || (this.pos.y < this.radius)) velocity.y = velocity.y * -1;
};
Ball.prototype.render = function() {
	ctx.beginPath();
	ctx.arc(this.pos.x, this.pos.y, this.radius*2, 0, 2*Math.PI);
	ctx.fill();
}
var ball = new Ball(new vec2(100, 100), 8, '#fff');
setInterval(function() {
	ctx.clearRect(0, 0, width, height);
	ball.update(velocity);
	ball.render();
}, 16);
</script>
</body>
</html>
