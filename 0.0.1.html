<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Random Walker</title>
<style>
body { margin:0; padding:0; }
canvas { width:100%;height:100%;background-color:#000; }
</style>
</head>
<body>
	<canvas id="stage" width="100%" height="100%"></canvas>
<script>
function rand(min, max) { return min + (Math.random() * (max - min)); }

function Walker (canvasId) { 
	var canvas = document.getElementById(canvasId);
	var ctx = this.ctx = canvas.getContext('2d');
	var width = window.innerWidth, 
		height = window.innerHeight;
	canvas.width = width;
	canvas.height = height;
	this.x = width / 2;
	this.y = height / 2;

	ctx.beginPath();
	ctx.strokeStyle = '#ffffff';
	ctx.moveTo(this.x, this.y);
	this.mouse = {x:0,y:0};
	var self = this;
	canvas.addEventListener('mousemove', function(e) {
		self.mouse.x = e.pageX;
		self.mouse.y = e.pageY;
	});
} 
Walker.prototype.walk = function() {
	var r = Math.random();
	if ( r < 0.5 ) {
		if ( r < 0.1 ) this.x++;
		else if ( r < 0.2 ) this.x--;
		else if ( r < 0.3 ) this.y++;
		else if ( r < 0.4 ) this.y--;
	} else { 
		if ( this.x < this.mouse.x ) this.x++;
		else if ( this.x > this.mouse.x ) this.x--;
		if ( this.y < this.mouse.y ) this.y++;
		else if ( this.y > this.mouse.y ) this.y--;
	}
};

Walker.prototype.render = function() {
	this.ctx.lineTo(this.x, this.y);
	this.ctx.stroke();
};

var walker = new Walker('stage');
setInterval(function() {
	walker.walk();
	walker.render();
}, 16);
</script>
</body>
</html>
